#Кухня для портирования сборок под Alcatel 5042D [TCL Alto45]

##Описание
Инструмент для сборки портов прошивок с девайсов на похожем железе, например *Redmi 2*

##Как пользоваться
Для того чтобы собрать порт, достаточно выполнить:

`./build.sh SOURCE PRODUCT PRODUCT_VERSION [ADDONS]`

* SOURCE - путь до архива с прошивкой-донором, либо путь до папки, в которую прошивка распакована 
* PRODUCT - вид сборки, возможные варианты посмотрите в `product/`, например MIUI или CM
* PRODUCT_VERSION - версия собираемой прошивки, то есть для cm11 это будет 11, для MIUI - 5.4.10 (посмотрите на название исходной прошивки) 
* ADDONS - дополенения, перечисленные через запятую, доступные дополнения в `addons/`
###Примеры
    Cборка CM11 с gapps и input-xperia:
    
    `./build.sh path_to_cm_source_rom.zip CM 11 gapps,input-xperia`
        
    Сборка MIUI 5.4.4 с input-xperia:
    
    `./build.sh path_to_miui_source_rom.zip MIUI 5.4.4 input-xperia`
    
##Как это работает
Основа кухни - скрипт build.sh, который выполнит всю работу за нас. 

Кухня содержит набор проприетарных компонентов - библиотек, модулей, приложений, которые должны быть заменены в прошивке-доноре для возможности запуска ее на нашем устройстве.

Но не всегда достаточно простой замены этих компонентов, поэтому в кухне есть **product** - директория, которая содержит замены некоторых файлов для того чтобы работала конкретная прошивка.

Так же в каждой папке **product** есть набор правил о том, какие компоненты из исходной прошивки необходимо удалить - правиа заданы в `clean.txt`

Итак, вот примерный алгоритм работы сборщика:
* Скрипт распакует прошивку
* Удалит из нее мусор (что удалять указано в clean.txt, туда при необходимости можно добавить свое)
* Далее сформирует новый build.prop на основе оригинального + добавит информацию о сборке
* Установит дополнения
* Запакует все в архив, который можно установить через recovery.

##Особенности
По умолчанию система будет установлена в custpack, а не system, тк system слишком маленького объема! Для того, чтобы сделать прошивку, которая встанет в system, отредактируйте updater-script и заменить там все слова custpack на system.

**Работа проверена на MIUI и CM11 от Redmi 2.**

Принимаю реквесты с фиксами =)
